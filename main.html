<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>메인</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body class="bg-[#fff] min-h-screen w-full flex flex-col">
    <header class="w-full flex items-center justify-between bg-[#0b4d47] px-4 py-3">
        <img src="images/logo.png" alt="로고" class="w-12 h-12 object-contain" />
        <span class="flex-1 text-white text-lg font-bold text-center">천안 불당지웰시티점 <span
                class="align-middle">▼</span></span>
        <div class="flex items-center gap-4 min-w-[110px] pr-2">
            <button class="text-white focus:outline-none">
                <svg width="22" height="21" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="0.75" y="3.25" width="19.7019" height="16.6731" rx="1.25" stroke="white"
                        stroke-width="1.5" />
                    <line x1="1.51562" y1="7.80469" x2="21.2031" y2="7.80469" stroke="white" stroke-width="1.5" />
                    <path d="M3.03125 11.5859H9.08894" stroke="white" stroke-width="1.5" stroke-linecap="round" />
                    <path d="M6.05469 5.52344L6.05469 0.980168" stroke="white" stroke-width="1.5"
                        stroke-linecap="round" />
                    <path d="M15.1406 5.52344V0.980168" stroke="white" stroke-width="1.5" stroke-linecap="round" />
                    <path d="M12.1172 16.125H18.1749" stroke="white" stroke-width="1.5" stroke-linecap="round" />
                    <mask id="path-7-inside-1_1308_167" fill="white">
                        <rect x="3.03125" y="13.0938" width="4.54327" height="4.54327" rx="1" />
                    </mask>
                    <rect x="3.03125" y="13.0938" width="4.54327" height="4.54327" rx="1" stroke="white"
                        stroke-width="3" mask="url(#path-7-inside-1_1308_167)" />
                    <mask id="path-8-inside-2_1308_167" fill="white">
                        <rect x="13.6328" y="10.0703" width="4.54327" height="4.54327" rx="1" />
                    </mask>
                    <rect x="13.6328" y="10.0703" width="4.54327" height="4.54327" rx="1" stroke="white"
                        stroke-width="3" mask="url(#path-8-inside-2_1308_167)" />
                </svg>

            </button>
            <button class="text-white focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
            </button>
            <button class="text-white focus:outline-none">
                <img src="images/setting.png" alt="설정" class="w-6 h-6 object-contain" />
            </button>
        </div>
    </header>
    <main class="flex-1 w-full mx-auto pb-24 p-5">
        <div class="grid grid-cols-2 gap-x-4 gap-y-8">
            <!-- 상품 카드 예시 (반복) -->
            <div class="bg-white rounded-xl shadow overflow-hidden flex flex-col">
                <div class="relative aspect-[3/4] w-full">
                    <img src="https://picsum.photos/300/400?random=11" alt="신발탈취제"
                        class="w-full h-full object-cover rounded-t-xl" />

                    <div class="absolute bottom-0 left-0 right-0 flex items-center text-white text-sm font-bold">
                        <span class="flex-1 bg-black/70 px-3 py-2 text-left">6월 11일 / 11시 이후</span>
                        <span class="bg-red-500 px-3 py-2">픽업가능</span>
                    </div>

                    <span
                        class="absolute bottom-12 left-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded flex items-center gap-1">
                        <img src="./images/location.png" width="12px" height="12px" />
                        <span>현장 수령</span>
                    </span>
                    <span class="absolute top-2 left-2 bg-yellow-300 text-xs font-semibold px-2 py-1 rounded">이벤트</span>
                    <span
                        class="absolute top-2 right-2 bg-red-500 text-white text-xs font-bold w-10 h-10 flex items-center justify-center rounded-full">SALE</span>
                </div>
                <div class="p-3 flex-1 flex flex-col">
                    <div class="text-sm font-medium text-gray-900">신발탈취제</div>
                    <div class="text-base font-bold mt-1 mb-2">4,900원</div>
                    <div class="flex gap-2 mt-auto">
                        <button class="flex-1 border border-gray-300 rounded py-1 text-xs">장바구니</button>
                        <button class="flex-1 border border-gray-300 rounded py-1 text-xs purchase-btn">구매하기</button>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow overflow-hidden flex flex-col">
                <div class="relative aspect-[3/4] w-full">
                    <img src="https://picsum.photos/300/400?random=11" alt="신발탈취제"
                        class="w-full h-full object-cover rounded-t-xl" />

                    <div class="absolute bottom-0 left-0 right-0 flex items-center text-white text-sm font-bold">
                        <span class="flex-1 bg-black/70 px-3 py-2 text-left">6월 11일 / 11시 이후</span>
                        <span class="bg-red-500 px-3 py-2">픽업가능</span>
                    </div>

                    <span
                        class="absolute bottom-12 left-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded flex items-center gap-1">
                        <img src="./images/location.png" width="12px" height="12px" />
                        <span>현장 수령</span>
                    </span>
                    <span class="absolute top-2 left-2 bg-yellow-300 text-xs font-semibold px-2 py-1 rounded">이벤트</span>
                    <span
                        class="absolute top-2 right-2 bg-red-500 text-white text-xs font-bold w-10 h-10 flex items-center justify-center rounded-full">SALE</span>
                </div>
                <div class="p-3 flex-1 flex flex-col">
                    <div class="text-sm font-medium text-gray-900">신발탈취제</div>
                    <div class="text-base font-bold mt-1 mb-2">4,900원</div>
                    <div class="flex gap-2 mt-auto">
                        <button class="flex-1 border border-gray-300 rounded py-1 text-xs">장바구니</button>
                        <button class="flex-1 border border-gray-300 rounded py-1 text-xs purchase-btn">구매하기</button>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow overflow-hidden flex flex-col">
                <div class="relative aspect-[3/4] w-full">
                    <img src="https://picsum.photos/300/400?random=11" alt="신발탈취제"
                        class="w-full h-full object-cover rounded-t-xl" />

                    <div class="absolute bottom-0 left-0 right-0 flex items-center text-white text-sm font-bold">
                        <span class="flex-1 bg-black/70 px-3 py-2 text-left">6월 11일 / 11시 이후</span>
                        <span class="bg-red-500 px-3 py-2">픽업가능</span>
                    </div>

                    <span
                        class="absolute bottom-12 left-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded flex items-center gap-1">
                        <img src="./images/location.png" width="12px" height="12px" />
                        <span>현장 수령</span>
                    </span>
                    <span class="absolute top-2 left-2 bg-yellow-300 text-xs font-semibold px-2 py-1 rounded">이벤트</span>
                    <span
                        class="absolute top-2 right-2 bg-red-500 text-white text-xs font-bold w-10 h-10 flex items-center justify-center rounded-full">SALE</span>
                </div>
                <div class="p-3 flex-1 flex flex-col">
                    <div class="text-sm font-medium text-gray-900">신발탈취제</div>
                    <div class="text-base font-bold mt-1 mb-2">4,900원</div>
                    <div class="flex gap-2 mt-auto">
                        <button class="flex-1 border border-gray-300 rounded py-1 text-xs">장바구니</button>
                        <button class="flex-1 border border-gray-300 rounded py-1 text-xs purchase-btn">구매하기</button>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow overflow-hidden flex flex-col">
                <div class="relative aspect-[3/4] w-full">
                    <img src="https://picsum.photos/300/400?random=11" alt="신발탈취제"
                        class="w-full h-full object-cover rounded-t-xl" />

                    <div class="absolute bottom-0 left-0 right-0 flex items-center text-white text-sm font-bold">
                        <span class="flex-1 bg-black/70 px-3 py-2 text-left">6월 11일 / 11시 이후</span>
                        <span class="bg-red-500 px-3 py-2">픽업가능</span>
                    </div>

                    <span
                        class="absolute bottom-12 left-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded flex items-center gap-1">
                        <img src="./images/location.png" width="12px" height="12px" />
                        <span>현장 수령</span>
                    </span>
                    <span class="absolute top-2 left-2 bg-yellow-300 text-xs font-semibold px-2 py-1 rounded">이벤트</span>
                    <span
                        class="absolute top-2 right-2 bg-red-500 text-white text-xs font-bold w-10 h-10 flex items-center justify-center rounded-full">SALE</span>
                </div>
                <div class="p-3 flex-1 flex flex-col">
                    <div class="text-sm font-medium text-gray-900">신발탈취제</div>
                    <div class="text-base font-bold mt-1 mb-2">4,900원</div>
                    <div class="flex gap-2 mt-auto">
                        <button class="flex-1 border border-gray-300 rounded py-1 text-xs">장바구니</button>
                        <button class="flex-1 border border-gray-300 rounded py-1 text-xs purchase-btn">구매하기</button>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow overflow-hidden flex flex-col">
                <div class="relative aspect-[3/4] w-full">
                    <img src="https://picsum.photos/300/400?random=11" alt="신발탈취제"
                        class="w-full h-full object-cover rounded-t-xl" />

                    <div class="absolute bottom-0 left-0 right-0 flex items-center text-white text-sm font-bold">
                        <span class="flex-1 bg-black/70 px-3 py-2 text-left">6월 11일 / 11시 이후</span>
                        <span class="bg-red-500 px-3 py-2">픽업가능</span>
                    </div>

                    <span
                        class="absolute bottom-12 left-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded flex items-center gap-1">
                        <img src="./images/location.png" width="12px" height="12px" />
                        <span>현장 수령</span>
                    </span>
                    <span class="absolute top-2 left-2 bg-yellow-300 text-xs font-semibold px-2 py-1 rounded">이벤트</span>
                    <span
                        class="absolute top-2 right-2 bg-red-500 text-white text-xs font-bold w-10 h-10 flex items-center justify-center rounded-full">SALE</span>
                </div>
                <div class="p-3 flex-1 flex flex-col">
                    <div class="text-sm font-medium text-gray-900">신발탈취제</div>
                    <div class="text-base font-bold mt-1 mb-2">4,900원</div>
                    <div class="flex gap-2 mt-auto">
                        <button class="flex-1 border border-gray-300 rounded py-1 text-xs">장바구니</button>
                        <button class="flex-1 border border-gray-300 rounded py-1 text-xs purchase-btn">구매하기</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <!-- 하단 네비게이션 -->
    <nav
        class="fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 flex justify-center items-center px-0 py-3 z-10">
        <button class="flex-1 flex flex-col items-center text-gray-700 focus:outline-none">
            <img src="./images/home.png" width="28px" height="28px" />
        </button>
        <button class="flex-1 flex flex-col items-center text-gray-700 focus:outline-none">
            <img src="./images/cart.png" width="28px" height="28px" />
        </button>
        <button class="flex-1 flex flex-col items-center text-gray-700 focus:outline-none">
            <img src="./images/chat.png" width="28px" height="28px" />

        </button>
        <button class="flex-1 flex flex-col items-center text-gray-700 focus:outline-none">
            <img src="./images/my.png" width="28px" height="28px" />
        </button>
    </nav>

    <!-- 바텀시트 -->
    <div id="bottom-sheet-backdrop" class="fixed inset-0 bg-black bg-opacity-50 hidden z-20"></div>
    <div id="bottom-sheet"
        class="fixed bottom-0 left-0 right-0 bg-white rounded-t-2xl p-5 shadow-lg hidden z-30 transition-transform duration-300 ease-in-out transform translate-y-full">
        <div class="w-full max-w-md mx-auto">
            <!-- 커스텀 옵션 선택 UI -->
            <div class="relative mb-4">
                <div id="custom-select" class="border border-green-900 rounded-md px-4 py-4 flex items-center justify-between cursor-pointer select-none">
                    <span class="text-gray-800">옵션 선택</span>
                    <svg class="w-5 h-5 text-green-900 ml-2 transition-transform duration-200" id="custom-select-arrow" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"/></svg>
                </div>
                <ul id="custom-options" class="absolute left-0 right-0 bg-white border border-green-900 border-t-0 rounded-b-md shadow-lg z-10 hidden">
                    <li class="px-4 py-3 hover:bg-green-50 cursor-pointer" data-name="신발탈취제" data-price="4900">신발탈취제</li>
                    <li class="px-4 py-3 hover:bg-green-50 cursor-pointer" data-name="양말세트" data-price="6900">양말세트</li>
                </ul>
                <!-- 선택 옵션 정보/수량/금액 영역 -->
                <div id="selected-option-box" class="bg-gray-50 border border-gray-100 rounded-md p-5 mt-3 flex flex-col gap-2 hidden">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-gray-800 text-base font-medium"><span id="selected-option-label">옵션 선택 : 신발탈취제 1개</span></span>
                        <button id="remove-option" class="text-gray-400 hover:text-gray-700 text-xl">&times;</button>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="flex items-center border border-gray-300 rounded px-2 py-1">
                            <button id="qty-minus" class="text-2xl px-2 text-gray-700 font-bold">-</button>
                            <span id="option-qty" class="mx-2 text-base">1</span>
                            <button id="qty-plus" class="text-2xl px-2 text-gray-700 font-bold">+</button>
                        </div>
                        <span class="ml-auto text-xl font-bold" id="option-price">4,900원</span>
                    </div>
                </div>
            </div>
            <!-- 결제 방식 선택 -->
            <div id="pay-method-box" class="flex items-center gap-6 mb-4 hidden">
                <label class="flex items-center cursor-pointer select-none">
                    <input type="checkbox" class="form-checkbox w-5 h-5 text-green-900 rounded mr-2" id="pay-cash" checked>
                    <span class="text-lg font-medium">현장결제</span>
                </label>
                <label class="flex items-center cursor-pointer select-none">
                    <input type="checkbox" class="form-checkbox w-5 h-5 text-green-900 rounded mr-2" id="pay-card">
                    <span class="text-lg font-medium">카드결제</span>
                </label>
            </div>
            <hr class="border-t border-gray-200" />
            <div class="flex justify-between items-center py-4">
                <span class="text-base font-semibold">총 금액</span>
                <span class="text-xl font-bold" id="total-price">4,900원</span>
            </div>
            <div class="flex gap-3 mt-2">
                <button class="flex-1 bg-white border border-green-900 text-green-900 rounded-lg py-3 font-bold">장바구니</button>
                <button class="flex-1 bg-[#0b4d47] text-white rounded-lg py-3 font-bold">바로구매</button>
            </div>
        </div>
    </div>

    <script>
        $(function () {
            var selectedOption = null;
            var selectedPrice = 0;
            var qty = 1;

            $('.purchase-btn').on('click', function (e) {
                e.preventDefault();
                $('#bottom-sheet-backdrop').removeClass('hidden');
                $('#bottom-sheet').removeClass('hidden').removeClass('translate-y-full');
            });

            function closeBottomSheet() {
                $('#bottom-sheet').addClass('translate-y-full');
                setTimeout(function () {
                    $('#bottom-sheet-backdrop').addClass('hidden');
                    $('#bottom-sheet').addClass('hidden');
                }, 300);
            }

            $('#bottom-sheet-backdrop').on('click', function () {
                closeBottomSheet();
            });

            // 옵션 드롭다운
            $('#custom-select').on('click', function() {
                $('#custom-options').toggle();
                $('#custom-select-arrow').toggleClass('rotate-180');
            });
            $('#custom-options li').on('click', function() {
                selectedOption = $(this).data('name');
                selectedPrice = $(this).data('price');
                qty = 1;
                $('#selected-option-label').text('옵션 선택 : ' + selectedOption + ' ' + qty + '개');
                $('#option-qty').text(qty);
                $('#option-price').text((selectedPrice * qty).toLocaleString() + '원');
                $('#total-price').text((selectedPrice * qty).toLocaleString() + '원');
                $('#selected-option-box').removeClass('hidden');
                $('#pay-method-box').removeClass('hidden');
                $('#custom-options').hide();
                $('#custom-select-arrow').removeClass('rotate-180');
            });
            // 수량 증가
            $('#qty-plus').on('click', function() {
                if (!selectedOption) return;
                qty++;
                $('#selected-option-label').text('옵션 선택 : ' + selectedOption + ' ' + qty + '개');
                $('#option-qty').text(qty);
                $('#option-price').text((selectedPrice * qty).toLocaleString() + '원');
                $('#total-price').text((selectedPrice * qty).toLocaleString() + '원');
            });
            // 수량 감소
            $('#qty-minus').on('click', function() {
                if (!selectedOption) return;
                if (qty > 1) {
                    qty--;
                    $('#selected-option-label').text('옵션 선택 : ' + selectedOption + ' ' + qty + '개');
                    $('#option-qty').text(qty);
                    $('#option-price').text((selectedPrice * qty).toLocaleString() + '원');
                    $('#total-price').text((selectedPrice * qty).toLocaleString() + '원');
                }
            });
            // 옵션 삭제
            $('#remove-option').on('click', function() {
                selectedOption = null;
                selectedPrice = 0;
                qty = 1;
                $('#selected-option-box').addClass('hidden');
                $('#total-price').text('0원');
                $('#pay-method-box').addClass('hidden');
            });
            // 바깥 클릭 시 드롭다운 닫기
            $(document).on('mousedown', function(e) {
                if (!$(e.target).closest('#custom-select, #custom-options').length) {
                    $('#custom-options').hide();
                    $('#custom-select-arrow').removeClass('rotate-180');
                }
            });
            // 결제방식 체크박스 단일선택
            $('#pay-cash, #pay-card').on('change', function() {
                if ($(this).is(':checked')) {
                    $('#pay-cash, #pay-card').not(this).prop('checked', false);
                }
            });
        });
    </script>
</body>

</html>